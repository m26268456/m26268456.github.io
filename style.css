/* --- 基礎重置與排版 --- */
html, body {
    margin: 0;
    padding: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f4f7f6;
}
h1, h2 { color: #333; }

#app-container {
    padding: 0 20px 20px 20px; 
    box-sizing: border-box;
}

/* --- 置頂導覽列 --- */
#fixed-header {
    position: fixed; 
    top: 0; left: 0; width: 100%;
    background-color: #fff;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    z-index: 100;
    box-sizing: border-box; 
}

#fixed-header-content {
    padding: 20px 20px 10px 20px;
    box-sizing: border-box;
}

#fixed-header-content > h1 { margin: 0 0 20px 0; font-size: 2em; }

/* 桌面版：使用 Grid 佈局，分為 3 個欄位 */
#top-navigation { 
    display: grid; 
    gap: 15px; 
    grid-template-columns: 400px 1fr 1fr; /* 快速查詢較寬 */
}

/* --- 手機響應式調整 (關鍵) --- */
@media (max-width: 900px) {
    /* 在寬度小於 900px 時，所有欄位變成 100% 寬度（單欄垂直堆疊） */
    #top-navigation {
        grid-template-columns: 1fr; 
    }
    
    /* 調整手機標題大小，減少佔用空間 */
    #fixed-header-content > h1 { 
        font-size: 1.5em; /* 標題縮小 */
        margin-bottom: 10px;
    }

    /* 調整手機導覽區塊內邊距，更緊湊 */
    .nav-section {
        padding: 8px;
    }

    /* 調整常用通路和卡片按鈕容器高度，避免佔用太多螢幕空間 */
    .button-scroll-container {
        max-height: 40px; /* 略微降低高度 */
    }

    /* 調整查詢按鈕和輸入框大小 */
    .search-container input, .search-container button {
        padding: 6px 10px;
        font-size: 0.85em;
    }
}
/* --- 手機響應式調整 結束 --- */


.nav-section {
    display: flex;
    flex-direction: column; border: 1px solid #ddd;
    padding: 10px; border-radius: 4px; background-color: #fff;
}

.nav-section h2 { font-size: 1.1em; margin: 0 0 8px 0; padding: 0; }

.header-group { display: flex; align-items: center; justify-content: space-between; margin-bottom: 5px; }

.search-container { display: flex; align-items: center; }
.search-container input {
    flex-grow: 1; margin: 0; padding: 8px 12px;
    border-radius: 4px 0 0 4px; border-right: none;
}
.search-container button { margin: 0; padding: 8px 12px; border-radius: 0 4px 4px 0; }

.button-scroll-container {
    max-height: 50px; 
    overflow-y: auto;
    padding-top: 2px;
    display: flex;
    flex-wrap: wrap;
}

/* --- 全域按鈕樣式 --- */
button { 
    cursor: pointer; 
    background-color: #1890ff; 
    color: white; 
    border: none; 
    padding: 6px 10px; 
    border-radius: 4px; 
    transition: background-color 0.3s; 
    font-size: 0.9em; 
}

.card-button, .merchant-button {
    display: inline-flex; justify-content: center; align-items: center; 
    min-width: 80px; height: 28px; color: white; padding: 4px 10px;
    margin: 3px 5px 3px 0; border-radius: 15px; text-align: center; 
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    cursor: pointer; 
}
.card-button { background-color: #007bff; }
.merchant-button { background-color: #28a745; }

/* --- 內容與結果區塊 --- */
#main-content {
    padding-top: 0; 
}

#searchResultSection {
    max-width: 800px; 
    margin: 20px auto 0 auto; 
    padding: 0;
}
#searchResult {
    text-align: left;
}

/* 關鍵字高亮樣式 */
.highlight { 
    background-color: #ddd; 
    color: #333;             
    padding: 2px 4px;
    border-radius: 3px;
    font-weight: normal;     
}

/* 註解匹配的卡片樣式 */
.note-match-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #e6e6fa; 
    color: #4b0082; 
    padding: 8px 12px;
    margin: 3px 0;
    border-radius: 4px;
    font-weight: bold;
}
.note-match-types {
    font-size: 0.8em;
    color: #6a5acd; 
    font-weight: normal;
}

/* 卡片詳情樣式 */
.card-detail-view { border: 2px solid #007bff; padding: 15px; margin: 10px 0; border-radius: 8px; background-color: #f0f8ff; }
.card-detail-view h3 { margin-top: 0; color: #007bff; }
.card-note-large { font-style: italic; color: #666; white-space: pre-wrap; margin-bottom: 10px; padding-left: 5px; border-left: 3px solid #ccc; }
.reward-group-display { margin-top: 15px; padding: 10px; border-left: 5px solid #ff9900; background-color: #fff; border-radius: 4px; }
.reward-group-display strong { color: #ff9900; font-size: 1.1em; }
.reward-group-display p { margin: 3px 0; padding-left: 10px; }
.reward-group-note { font-size: 0.9em; color: #888; margin-bottom: 5px; }